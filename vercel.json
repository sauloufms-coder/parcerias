{
  "version": 2,
  "public": true,
  "cleanUrls": true,
  "trailingSlash": false,
  "functions": {
    "api/login.js": { "runtime": "nodejs18.x" }
  },
  "routes": [
    { "src": "^/$", "dest": "/login.html" },
    { "src": "^/login$", "dest": "/login.html" },
    { "src": "^/api/login$", "dest": "/api/login.js" },

    { "src": "^/app/?$", "has": [{ "type": "cookie", "key": "sess", "value": "ok" }], "dest": "/app/index.html" },
    { "src": "^/app/(.*)$", "has": [{ "type": "cookie", "key": "sess", "value": "ok" }], "dest": "/app/$1" },

    { "src": "^/app/(.*)$", "dest": "/login.html" },
    { "src": "^/app/?$", "dest": "/login.html" }
  ]
}

